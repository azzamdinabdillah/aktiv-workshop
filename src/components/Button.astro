---
export interface Props {
  variant?: "green" | "blue" | "orange" | "light-blue" | "black";
  size?: "small" | "medium" | "large";
  icon?: string;
  leftIcon?: string;
  iconAlt?: string;
  href?: string;
  type?: "button" | "submit" | "reset";
  class?: string;
  disabled?: boolean;
}

const {
  variant = "green",
  size = "small",
  icon,
  leftIcon,
  iconAlt = "Icon",
  href,
  type = "button",
  class: className = "",
  disabled = false,
  ...rest
} = Astro.props;

// Color variants with interactive hover effects (keeping original colors)
const colorClasses = {
  green:
    "bg-green text-white hover:bg-green-600 hover:shadow-2xl hover:shadow-green-500/50 relative overflow-hidden group before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-700",
  blue: "bg-blue text-white hover:bg-blue-600 hover:shadow-2xl hover:shadow-blue-500/50 relative overflow-hidden group before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-700",
  orange:
    "bg-orange text-white hover:bg-orange-600 hover:shadow-2xl hover:shadow-orange-500/50 relative overflow-hidden group before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-700",
  "light-blue":
    "bg-light-blue text-blue hover:bg-blue-100 hover:shadow-2xl hover:shadow-blue-500/40 hover:text-blue-700 relative overflow-hidden group before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-700",
  black:
    "bg-black text-white hover:bg-gray-800 hover:shadow-2xl hover:shadow-gray-500/50 relative overflow-hidden group before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-700",
};

// Size variants
const sizeClasses = {
  small: "text-16 font-semibold px-4 h-[40px] md:px-6 md:h-[48px]",
  medium: "text-16 font-semibold px-4 h-[43px] md:px-6 md:h-[56px]",
  large: "text-18 font-semibold px-4 md:px-6 h-[45px] md:h-[56px] md:px-8 lg:h-[64px]",
};

// Icon size variants
const iconSizeClasses = {
  small: "w-5 h-5 lg:w-6 lg:h-6",
  medium: "w-6 h-6 lg:w-7 lg:h-7",
  large: "w-5 h-5 md:w-7 md:h-7 lg:w-8 lg:h-8",
};

const baseClasses =
  "flex items-center curor-pointer gap-3 rounded-full justify-center transition-all duration-500 ease-out focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95 relative z-10  disabled:cursor-not-allowed disabled:!bg-[#E6E7EB] disabled:!shadow-none";
const colorClass = colorClasses[variant];
const sizeClass = sizeClasses[size];
const iconSizeClass = iconSizeClasses[size];

const buttonClasses =
  `${baseClasses} ${colorClass} ${sizeClass} ${className}`.trim();
---

{
  href ? (
    <a href={href} class={buttonClasses} {...rest}>
      <span class="relative z-10 flex items-center gap-2 md:gap-3">
        {leftIcon && (
          <img
            src={`${import.meta.env.ICONS_FOLDER}/${leftIcon}`}
            alt={iconAlt}
            class={`${iconSizeClass} transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3`}
          />
        )}
        <slot />
        {icon && (
          <img
            src={`${import.meta.env.ICONS_FOLDER}/${icon}`}
            alt={iconAlt}
            class={`${iconSizeClass} transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3`}
          />
        )}
      </span>
    </a>
  ) : (
    <button type={type} class={buttonClasses} {...rest} disabled={disabled}>
      <span class="relative z-10 flex items-center gap-2 md:gap-3">
        {leftIcon && (
          <img
            src={`${import.meta.env.ICONS_FOLDER}/${leftIcon}`}
            alt={iconAlt}
            class={`${iconSizeClass} transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3`}
          />
        )}
        <slot />
        {icon && (
          <img
            src={`${import.meta.env.ICONS_FOLDER}/${icon}`}
            alt={iconAlt}
            class={`${iconSizeClass} transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3`}
          />
        )}
      </span>
    </button>
  )
}
