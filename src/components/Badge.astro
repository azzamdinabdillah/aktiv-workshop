---
export interface Props {
  status: "open" | "started" | "closed";
  position?: "absolute" | "relative";
  className?: string;
}

const { status, position = "absolute", className = "" } = Astro.props;

// Status badge configuration
const statusConfig = {
  open: {
    icon: `${import.meta.env.ICONS_FOLDER}/badge-workshop-card-open.svg`,
    bgColor: "bg-[#1f8a70]",
    text: "OPEN",
  },
  started: {
    icon: `${import.meta.env.ICONS_FOLDER}/badge-workshop-card-started.svg`,
    bgColor: "bg-orange",
    text: "STARTED",
  },
  closed: {
    icon: `${import.meta.env.ICONS_FOLDER}/badge-workshop-card-closed.svg`,
    bgColor: "bg-[#eb5757]",
    text: "CLOSED",
  },
};

const currentStatus = statusConfig[status];
const positionClass =
  position === "absolute" ? "absolute top-2 left-2 md:top-3 md:left-3" : "";
---

<div
  class={`${positionClass} ${currentStatus.bgColor} flex items-center gap-1 px-3 py-2 md:px-4 md:py-2.5 lg:px-5 lg:py-3 rounded-[100px] transition-all duration-300 ease-out z-10 w-max ${className}`}
>
  <img
    src={currentStatus.icon}
    alt={status}
    class="w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"
  />
  <span
    class="font-semibold text-white text-xs md:text-sm lg:text-base whitespace-nowrap"
  >
    {currentStatus.text}
  </span>
</div>
